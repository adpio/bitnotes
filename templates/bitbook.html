{% extends "base.html" %}
{% block content %}
{% from "notes/_macros.html" import render_field_for_view %}
<div class="row">
<h1>
	{{ bitbook.title }}
</h1>
<form method="post" action="note_manager">
	<input type="hidden" name="action" value="create">
	<input type="submit" class="btn btn-success" value="{{ bitbook.bitnotes|count }}+">
</form>
<p>{{ bitbook.description }}</p>
<p>
{% for field in bitbook.cover_fields %}
<span class="label label-primary">{{ field }}</span>
{% endfor %}
</p>
</div>
<div class="row">
<div class="col-sm-6">
<div class="list-group">
{% for note in bitbook.bitnotes %}
  <a href="{{ url_for('posts.bitnote', bitbook_id=bitbook.id, bitnote_id=note.id ) }}" class="list-group-item active">
    <h4 class="list-group-item-heading">{{ note.created_at.strftime('%Y %m %d (%H:%M)') }}</h4>
    <p class="list-group-item-text">some bitnote description will go here once it's effing ready!</p>
  </a>
{% endfor %}
</div>
</div>
<div class="col-sm-6">
<div class="panel panel-primary">
<div class="panel-heading">
<a class="btn btn-warning" href="">Edit</a>
</div>
<div class="panel-body">
{% if bitbook.bitnotes %}
{% for field in bitbook.bitnotes[0].bitfields %}
{{ render_field_for_view(field) }}
{% endfor %}
{% endif %}
</div>
</div>
</div>
</div>

{% endblock %}
